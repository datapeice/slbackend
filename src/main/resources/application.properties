spring.application.name=slbackend

spring.security.key=${SPRING_SECURITY_KEY}

# Database
spring.datasource.url=${SPRING_DATASOURCE_URL:${DATABASE_URL:}}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.datasource.hikari.maximum-pool-size=5

# MinIO / S3 (Bucketeer on Heroku sets BUCKETEER_* vars)
# For Bucketeer on Heroku, set: MINIO_ENDPOINT=https://s3.eu-west-1.amazonaws.com
# Do NOT set MINIO_PUBLIC_URL (Bucketeer buckets are private ? presigned URLs are used instead)
minio.endpoint=${MINIO_ENDPOINT:http://localhost:9000}
minio.access-key=${BUCKETEER_AWS_ACCESS_KEY_ID:${MINIO_ACCESS_KEY:minioadmin}}
minio.secret-key=${BUCKETEER_AWS_SECRET_ACCESS_KEY:${MINIO_SECRET_KEY:minioadmin123}}
minio.bucket-name=${BUCKETEER_BUCKET_NAME:${MINIO_BUCKET_NAME:slbackend-avatars}}
minio.region=${BUCKETEER_AWS_REGION:${MINIO_REGION:}}
# Leave MINIO_PUBLIC_URL empty to use presigned URLs (required for private Bucketeer buckets).
# AWS SDK v2 will generate virtual-hosted-style presigned URLs automatically.
minio.public-url=${MINIO_PUBLIC_URL:}
# Presigned URL expiry in hours (default 168 = 7 days)
minio.presigned-url-expiry-hours=${MINIO_PRESIGNED_URL_EXPIRY_HOURS:168}

# File Upload
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB

# Mailgun
mailgun.api-key=${MAILGUN_API_KEY:}
mailgun.domain=${MAILGUN_DOMAIN:storylegends.xyz}
mailgun.from-email=${MAILGUN_FROM_EMAIL:noreply@storylegends.xyz}
mailgun.from-name=${MAILGUN_FROM_NAME:StoryLegends}
mailgun.base-url=${MAILGUN_BASE_URL:https://api.eu.mailgun.net}

# reCAPTCHA
recaptcha.secret-key=${RECAPTCHA_SECRET_KEY:}
recaptcha.site-key=${RECAPTCHA_SITE_KEY:}
recaptcha.verify-url=https://www.google.com/recaptcha/api/siteverify

# Email Verification
email.verification.expiration=86400000
email.verification.base-url=${FRONTEND_URL:http://localhost:5173}/

# Feature flags
app.recaptcha.enabled=${APP_RECAPTCHA_ENABLED:true}
app.email.enabled=${APP_EMAIL_ENABLED:true}
app.auto-verify-email=${APP_AUTO_VERIFY_EMAIL:false}

# Discord Bot
discord.bot.enabled=${DISCORD_BOT_ENABLED:false}
discord.bot.token=${DISCORD_BOT_TOKEN:}
discord.guild.id=${DISCORD_GUILD_ID:}
discord.sl-role.id=${DISCORD_SL_ROLE_ID:}

# Logging
logging.level.com.datapeice.slbackend=INFO
logging.level.org.springframework.security=WARN
